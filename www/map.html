<div ng-controller="GoogleMapController as vm">

    <p>行きたい場所だをここに!</p>

    <input ng-model="address">
    <button ng-click="search()">検索する</button>
    <button ng-click="clear()">消去</button>
    <span ng-model="positions"></span>
    <br/>
    <ng-map zoom="13">
        <info-window id="cached" template="custom-cached-info-window-template.html"></info-window>
        <marker on-click="showInfo(p,$index)" ng-repeat="p in positions track by $index" id="custom-marker-{{$index}} " position="{{p.pos}} ">
        </marker>
    </ng-map>

    <script id="custom-cached-info-window-template.html" type="text/ng-template">
        <div ng-non-bindable="">
            店名:{{selectedShop.name}}
            <br/> 住所:{{selectedShop.formatted_address}}
            <br/> Lat: {{anchor.getPosition().lat()}}<br/> Lng: {{anchor.getPosition().lng()}}<br>
        </div>
    </script>

    <div>


        <ul class="list" ng-show="!ifShowDeail">
            <li class="list-item" ng-click="goToDetail(p)" ng-repeat="p in positions track by $index" style="cursor:pointer">
                <div class="list-item__left">
                    <img class="list-item__thumbnail" src="{{p.icon}}" alt="Cute kitten">
                </div>

                <div class="list-item__center">
                    <div class="list-item__title">{{p.name}}</div>
                    <div class="list-item__subtitle">{{p.formatted_address}}</div>
                </div>

                <div class="list-item__right">
                    <i class="ion-ios-information list-item__icon"></i>
                </div>

            </li>
        </ul>


        
        <div ng-show="ifShowDeail" style="height: 200px; padding: 1px 0 0 0;">
            <div class="card card--material">
              <div class="card__title card--material__title">{{detailShop.name}}</div>
              <div class="card__content card--material__content">
                  <div>
                  {{detailShop.formatted_address}}
                </div>
                <div>
                    {{detailShop.formatted_phone_number}}
                </div>
           
                <div ng-repeat="_p in detailShop.photots track by $index">
        
                    <img src="{{_p.getUrl}}" alt="" width="330px">
                </div>
                <div>
                    {{detailShop.rating}}
                </div>
            </div>
        </div>


    </div>
</div>